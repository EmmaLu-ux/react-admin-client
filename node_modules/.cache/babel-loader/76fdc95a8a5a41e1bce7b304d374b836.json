{"ast":null,"code":"import\"antd/es/card/style\";import _Card from\"antd/es/card\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import\"antd/es/icon/style\";import _Icon from\"antd/es/icon\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _asyncToGenerator from\"/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import _classCallCheck from\"/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";function _regeneratorRuntime(){\"use strict\";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return exports;};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;},$Symbol=\"function\"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||\"@@iterator\",asyncIteratorSymbol=$Symbol.asyncIterator||\"@@asyncIterator\",toStringTagSymbol=$Symbol.toStringTag||\"@@toStringTag\";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key];}try{define({},\"\");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,\"_invoke\",{value:makeInvokeMethod(innerFn,self,context)}),generator;}function tryCatch(fn,obj,arg){try{return{type:\"normal\",arg:fn.call(obj,arg)};}catch(err){return{type:\"throw\",arg:err};}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){[\"next\",\"throw\",\"return\"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(\"throw\"!==record.type){var result=record.arg,value=result.value;return value&&\"object\"==typeof value&&hasOwn.call(value,\"__await\")?PromiseImpl.resolve(value.__await).then(function(value){invoke(\"next\",value,resolve,reject);},function(err){invoke(\"throw\",err,resolve,reject);}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result);},function(error){return invoke(\"throw\",error,resolve,reject);});}reject(record.arg);}var previousPromise;defineProperty(this,\"_invoke\",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(innerFn,self,context){var state=\"suspendedStart\";return function(method,arg){if(\"executing\"===state)throw new Error(\"Generator is already running\");if(\"completed\"===state){if(\"throw\"===method)throw arg;return doneResult();}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if(\"next\"===context.method)context.sent=context._sent=context.arg;else if(\"throw\"===context.method){if(\"suspendedStart\"===state)throw state=\"completed\",context.arg;context.dispatchException(context.arg);}else\"return\"===context.method&&context.abrupt(\"return\",context.arg);state=\"executing\";var record=tryCatch(innerFn,self,context);if(\"normal\"===record.type){if(state=context.done?\"completed\":\"suspendedYield\",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done};}\"throw\"===record.type&&(state=\"completed\",context.method=\"throw\",context.arg=record.arg);}};}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(undefined===method){if(context.delegate=null,\"throw\"===context.method){if(delegate.iterator.return&&(context.method=\"return\",context.arg=undefined,maybeInvokeDelegate(delegate,context),\"throw\"===context.method))return ContinueSentinel;context.method=\"throw\",context.arg=new TypeError(\"The iterator does not provide a 'throw' method\");}return ContinueSentinel;}var record=tryCatch(method,delegate.iterator,context.arg);if(\"throw\"===record.type)return context.method=\"throw\",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,\"return\"!==context.method&&(context.method=\"next\",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method=\"throw\",context.arg=new TypeError(\"iterator result is not an object\"),context.delegate=null,ContinueSentinel);}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type=\"normal\",delete record.arg,entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:\"root\"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0);}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if(\"function\"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;){if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;}return next.value=undefined,next.done=!0,next;};return next.next=next;}}return{next:doneResult};}function doneResult(){return{value:undefined,done:!0};}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,\"constructor\",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,\"constructor\",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,\"GeneratorFunction\"),exports.isGeneratorFunction=function(genFun){var ctor=\"function\"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||\"GeneratorFunction\"===(ctor.displayName||ctor.name));},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,\"GeneratorFunction\")),genFun.prototype=Object.create(Gp),genFun;},exports.awrap=function(arg){return{__await:arg};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,\"Generator\"),define(Gp,iteratorSymbol,function(){return this;}),define(Gp,\"toString\",function(){return\"[object Generator]\";}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object){keys.push(key);}return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next;}return next.done=!0,next;};},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this){\"t\"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined);}},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if(\"throw\"===rootRecord.type)throw rootRecord.arg;return this.rval;},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type=\"throw\",record.arg=exception,context.next=loc,caught&&(context.method=\"next\",context.arg=undefined),!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if(\"root\"===entry.tryLoc)return handle(\"end\");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,\"catchLoc\"),hasFinally=hasOwn.call(entry,\"finallyLoc\");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);}else{if(!hasFinally)throw new Error(\"try statement without catch or finally\");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,\"finallyLoc\")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}finallyEntry&&(\"break\"===type||\"continue\"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method=\"next\",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record);},complete:function complete(record,afterLoc){if(\"throw\"===record.type)throw record.arg;return\"break\"===record.type||\"continue\"===record.type?this.next=record.arg:\"return\"===record.type?(this.rval=this.arg=record.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel;}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(\"throw\"===record.type){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error(\"illegal catch attempt\");},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},\"next\"===this.method&&(this.arg=undefined),ContinueSentinel;}},exports;}import React,{Component}from\"react\";import LinkButton from\"../../components/link-button\";import{reqProduct,reqSearchProduct,reqUpdateProduct}from\"../../api\";import{PAGE_SIZE}from\"../../utils/constants\";import memoryUtils from'../../utils/memoryUtils.js';import storageUtils from'../../utils/storageUtils';var Option=_Select.Option;/* Product的默认主页面 */var ProductHome=/*#__PURE__*/function(_Component){_inherits(ProductHome,_Component);var _super=_createSuper(ProductHome);function ProductHome(){var _this;_classCallCheck(this,ProductHome);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false,total:0,//商品的总数量\nproduct:[],//商品的数组\nsearchName:\"\",//搜索的关键字\nsearchType:\"productName\"//根据哪个字段搜索\n};_this.initColums=function(){_this.columns=[{title:\"商品名称\",dataIndex:\"name\"},{title:\"商品描述\",dataIndex:\"desc\"},{title:\"价格\",dataIndex:\"price\",render:function render(price){return\"¥\"+price;}},{title:\"状态\",width:200,// dataIndex: \"status\",\nrender:function render(product){var status=product.status,_id=product._id;return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){return _this.updateStatus(_id,status===1?2:1);}},status===1?'下架':'上架'),/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:20}},status===1?'在售':'已下架'));}},{title:\"操作\",width:200,render:function render(product){return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(LinkButton,{onClick:function onClick(){return _this.showDetails(product);}},\"\\u8BE6\\u60C5\"),/*#__PURE__*/React.createElement(LinkButton,{onClick:function onClick(){return _this.showUpdate(product);}},\"\\u4FEE\\u6539\"));}}];};_this.getProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(pageNum){var _this$state,searchName,searchType,result,_result$data,list,total;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.pageNum=pageNum;// 保存pageNum，让其他方法可以看到\n_this.setState({loading:true});_this$state=_this.state,searchName=_this$state.searchName,searchType=_this$state.searchType;//如果seachName有值，说明要做搜索分页\nif(!searchName){_context.next=11;break;}// 搜索分页\nconsole.log('搜索分页请求开始');_context.next=7;return reqSearchProduct({pageNum:pageNum,pageSize:PAGE_SIZE,searchName:searchName,searchType:searchType});case 7:result=_context.sent;console.log('搜索分页请求结束');_context.next=14;break;case 11:_context.next=13;return reqProduct(pageNum,PAGE_SIZE);case 13:result=_context.sent;case 14:console.log('搜索分页设置');console.log('getProduct()',result);_this.setState({loading:false});if(result.status===0){//取出分页数据，更新状态，显示分页列表\n_result$data=result.data,list=_result$data.list,total=_result$data.total;_this.setState({total:total,product:list});console.log('设置成功');}case 18:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.showDetails=function(product){//缓存product，给details组件用\nmemoryUtils.product=product;storageUtils.saveProduct(product);_this.props.history.push('/product/detail');};_this.showUpdate=function(product){memoryUtils.product=product;_this.props.history.push('/product/addupdate');};_this.updateStatus=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productId,status){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return reqUpdateProduct(productId,status);case 2:result=_context2.sent;if(result.status===0){_message.success('更新商品成功');_this.getProduct(_this.pageNum);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();return _this;}_createClass(ProductHome,[{key:\"componentWillMount\",value:function componentWillMount(){this.initColums();}},{key:\"componentDidMount\",value:function componentDidMount(){this.getProduct(1);}},{key:\"render\",value:function render(){var _this2=this;//从状态中取出数据动态显示产品名称\nvar _this$state2=this.state,product=_this$state2.product,total=_this$state2.total,loading=_this$state2.loading,searchName=_this$state2.searchName,searchType=_this$state2.searchType;var title=/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(_Select,{value:searchType,style:{width:150},onChange:function onChange(value){return _this2.setState({searchType:value});}//受控组件\n},/*#__PURE__*/React.createElement(Option,{value:\"productName\"},\"\\u6309\\u540D\\u79F0\\u641C\\u7D22\"),/*#__PURE__*/React.createElement(Option,{value:\"productDesc\"},\"\\u6309\\u63CF\\u8FF0\\u641C\\u7D22\")),/*#__PURE__*/React.createElement(_Input,{placeholder:\"\\u5173\\u952E\\u5B57\",style:{width:250,margin:\"0 10px 0 10px\"},value:searchName,onChange:function onChange(e){_this2.setState({searchName:e.target.value});}}),/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){return _this2.getProduct(1);}},\"\\u641C\\u7D22\"));var extra=/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:function onClick(){return _this2.props.history.push('/product/addupdate');}},/*#__PURE__*/React.createElement(_Icon,{type:\"plus\"}),\"\\u6DFB\\u52A0\\u5546\\u54C1\");return/*#__PURE__*/React.createElement(_Card,{title:title,extra:extra,style:{borderRadius:15,border:\"none\"}},/*#__PURE__*/React.createElement(_Table,{loading:loading,rowKey:\"_id\"// size=\"small\"\n,dataSource:product,columns:this.columns,pagination:{current:this.pageNum,total:total,defaultPageSize:PAGE_SIZE,showQuickJumper:true,onChange:this.getProduct}}));}}]);return ProductHome;}(Component);export{ProductHome as default};","map":{"version":3,"names":["React","Component","LinkButton","reqProduct","reqSearchProduct","reqUpdateProduct","PAGE_SIZE","memoryUtils","storageUtils","Option","ProductHome","state","loading","total","product","searchName","searchType","initColums","columns","title","dataIndex","render","price","width","status","_id","updateStatus","marginLeft","showDetails","showUpdate","getProduct","pageNum","setState","console","log","pageSize","result","data","list","saveProduct","props","history","push","productId","success","value","margin","e","target","extra","borderRadius","border","current","defaultPageSize","showQuickJumper","onChange"],"sources":["/Users/emmalu/Documents/fronted/workspace/react-admin_client-1/src/pages/product/home.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Input, Icon, Button, Select, Card, Table, message } from \"antd\";\n\nimport LinkButton from \"../../components/link-button\";\nimport { reqProduct, reqSearchProduct, reqUpdateProduct } from \"../../api\";\nimport { PAGE_SIZE } from \"../../utils/constants\";\nimport memoryUtils from '../../utils/memoryUtils.js'\nimport storageUtils from '../../utils/storageUtils'\n\nconst Option = Select.Option;\n/* Product的默认主页面 */\nexport default class ProductHome extends Component {\n  state = {\n    loading: false,\n    total: 0, //商品的总数量\n    product: [], //商品的数组\n    searchName: \"\", //搜索的关键字\n    searchType: \"productName\", //根据哪个字段搜索\n  };\n  /* 初始化table的列的数组 */\n  initColums = () => {\n    this.columns = [\n      {\n        title: \"商品名称\",\n        dataIndex: \"name\",\n      },\n      {\n        title: \"商品描述\",\n        dataIndex: \"desc\",\n      },\n      {\n        title: \"价格\",\n        dataIndex: \"price\",\n        render: (price) => \"¥\" + price,\n      },\n      {\n        title: \"状态\",\n        width: 200,\n        // dataIndex: \"status\",\n        render: (product) => {\n          const {status, _id} = product\n          return (\n            <span>\n              <Button type=\"primary\" onClick={() => this.updateStatus(_id,status === 1 ? 2 : 1)}>{status === 1 ? '下架' : '上架'}</Button>\n              <span style={{marginLeft: 20}}>{status === 1 ? '在售' : '已下架'}</span>\n            </span>\n          );\n        },\n      },\n      {\n        title: \"操作\",\n        width: 200,\n        render: (product) => {\n          return (\n            <span>\n              <LinkButton onClick={() => this.showDetails(product)}>详情</LinkButton>\n              <LinkButton onClick={() => this.showUpdate(product)}>修改</LinkButton>\n            </span>\n          );\n        },\n      },\n    ];\n  };\n  //获取指定页码的列表数据显示\n  getProduct = async (pageNum) => {\n    this.pageNum = pageNum // 保存pageNum，让其他方法可以看到\n    this.setState({ loading: true });\n    const { searchName, searchType } = this.state;\n    //如果seachName有值，说明要做搜索分页\n    let result;\n    if (searchName) { // 搜索分页\n      console.log('搜索分页请求开始')\n      result = await reqSearchProduct({\n        pageNum,\n        pageSize: PAGE_SIZE,\n        searchName,\n        searchType,\n      });\n      console.log('搜索分页请求结束')\n    } else { // 一般分页\n      result = await reqProduct(pageNum, PAGE_SIZE);\n    }\n    console.log('搜索分页设置')\n    console.log('getProduct()', result)\n    this.setState({ loading: false });\n    if (result.status === 0) {\n      //取出分页数据，更新状态，显示分页列表\n      const { list, total } = result.data;\n      this.setState({\n        total,\n        product: list\n      });\n      console.log('设置成功')\n    }\n  };\n  /* 显示商品详情界面 */\n  showDetails = (product) => {\n    //缓存product，给details组件用\n    memoryUtils.product = product\n    storageUtils.saveProduct(product)\n    this.props.history.push('/product/detail')\n  }\n  /* 显示修改商品的界面 */\n  showUpdate = (product) => {\n    memoryUtils.product = product\n    this.props.history.push('/product/addupdate')\n  }\n  //更新指定商品的状态 \n  updateStatus = async (productId, status) => {\n    const result = await reqUpdateProduct(productId, status)\n    if(result.status === 0){\n      message.success('更新商品成功')\n      this.getProduct(this.pageNum)\n    }\n  }\n  componentWillMount() {\n    this.initColums();\n  }\n  componentDidMount() {\n    this.getProduct(1);\n  }\n  render() {\n    //从状态中取出数据动态显示产品名称\n    const { product, total, loading, searchName, searchType } = this.state;\n    const title = (\n      <span>\n        <Select\n          value={searchType}\n          style={{ width: 150 }}\n          onChange={(value) => this.setState({ searchType: value })} //受控组件\n        >\n          <Option value=\"productName\">按名称搜索</Option>\n          <Option value=\"productDesc\">按描述搜索</Option>\n        </Select>\n        <Input\n          placeholder=\"关键字\"\n          style={{ width: 250, margin: \"0 10px 0 10px\" }}\n          value={searchName}\n          onChange={(e) => {this.setState({ searchName: e.target.value })}}\n        />\n        <Button type=\"primary\" onClick={() => this.getProduct(1)}>\n          搜索\n        </Button>\n      </span>\n    );\n    const extra = (\n      <Button type=\"primary\" onClick={() => this.props.history.push('/product/addupdate')}>\n        <Icon type=\"plus\" />\n        添加商品\n      </Button>\n    );\n    return (\n      <Card title={title} extra={extra} style={{borderRadius: 15, border: \"none\"}}>\n        <Table\n          loading={loading}\n          rowKey=\"_id\"\n          // size=\"small\"\n          dataSource={product}\n          columns={this.columns}\n          pagination={{\n            current: this.pageNum,\n            total,\n            defaultPageSize: PAGE_SIZE,\n            showQuickJumper: true,\n            onChange: this.getProduct,\n          }}\n        />\n      </Card>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}